<h1 align="center">NLWKN Exporter</h1>
<h3 align="center">nlwkn-rs</h3>
<p align="center">
  <b>ðŸ“¤ Exporting water rights data into a PostreSQL database.</b>
</p>
<br>

## Introduction
The `exporter` tool takes a JSON file generated by the `parser` and writes it 
into a PostgreSQL database.
For writing into the database a transaction with `COPY FROM` is used which makes 
this tool blazingly fast.

## Usage
To utilize the exporter, follow the command structure below:

```
NLWKN Water Right DB Exporter

Usage: exporter.exe [OPTIONS] <REPORTS_JSON>

Arguments:
<REPORTS_JSON>  Path to reports JSON file

Options:
--user <USER>          Postgres username
--password <PASSWORD>  Postgres password
--host <HOST>          Postgres host
--port <PORT>          Postgres port
-h, --help                 Print help
-V, --version              Print version
```

# Cargo Features
For debugging purposes the `file-log` feature can be used while compiling. 
This will write into the `/data` dir relative to execution two `.tsv` files that 
represent the output of stream into the database.
